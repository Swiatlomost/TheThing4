# PDCA - LUMEN-20251025-004

> Menu poziomu i zasobow komorek dla ekranu Morfogenezy.

## Plan
- Cel: uzupelnic waski pasek statusu o dane CosLifecycleEngine i sygnaly ostrzegawcze przy niskiej liczbie dostepnych komorek.
- Zakres: aktualizacja `MorphogenesisUiState`, widoku `HeaderStatusBar`, fallbacki tekstowe, progi alertu oraz sanity ViewModelu.
- Zaleznosci: guard rails Echo (`docs/ux/morphogeneza-ux-research.md`), ADR-2025-10-25, stan `CosLifecycleEngine`.

## Do
- Rozszerzono `MorphogenesisUiState` o strukture `CellsAlert` (message + severity).
- Zaktualizowano `MorphogenesisViewModel` (progi, opis levelu, ascii fallbacki).
- Przebudowano `HeaderStatusBar` (kolumny level/description, alert, dropdown).
- Dodano asercje alertu w `MorphogenesisViewModelTest`.

## Check
- `./gradlew test` (2025-10-25) - PASS.
- `./gradlew connectedDebugAndroidTest` (Pixel_5 AVD, 2025-10-25) - PASS.
- Manualne sanity: sprawdzony alert "Niski zapas komorek" przy <=10% pojemnosci (emulator Pixel_5).
- Checklisty Nodus/Kai: zlinkowane do `docs/testing/morphogeneza-event-checklist.md` i `docs/testing/morphogeneza-test-plan.md`.

## Act
- Jesli feedback Orina bedzie wskazywal na inne progi, dostosowac wartosc `LOW_CAPACITY_THRESHOLD`.
- Po etapie 005 rozszerzyc testy (Compose) i potwierdzic emisje eventu wg checklisty Nodus.
