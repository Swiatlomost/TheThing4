# NODUS-20251026-004 - Sanity kanału forma_aktywna po undo/redo

## Plan
- **Cel**: Upewnić się, że kanał `forma_aktywna` (SharedFlow + broadcast) działa poprawnie po wprowadzeniu historii undo/redo w edytorze Morfogenezy.
- **Zakres**: aktualizacja checklisty ADB/logcat o przypadki cofania/przywracania, ręczne sanity na Pixel_5 oraz rekomendacja ewentualnych automatyzacji.
- **Zależności**: implementacja undo/redo (Lumen), guard rails Echo, plan testów Kai.

## Do
- Uzupełnić `docs/testing/morphogeneza-event-checklist.md` o kroki z undo/redo.
- Wykonać sanity (`./gradlew connectedDebugAndroidTest`, `adb logcat`, `adb shell dumpsys`) po wdrożeniu historii.
- Zweryfikować, czy event `forma_aktywna` emituje poprawne payloady po cofnięciu/przywróceniu zmian.

## Check
- Logcat: oczekiwany `I/MorfoEvent: forma_aktywna ...` po każdej aktywacji/undo/redo.
- Broadcast: `dumpsys activity broadcasts --history` potwierdza brak opóźnień.
- Raport przekazany Kai i Lumenowi.

## Act
- Jeśli pojawią się opóźnienia w SharedFlow, zasugerować debouncing lub batching.
- Przygotować skrypt do automatycznego zbierania logcat/dumpsys w CI.
- Przekazać Orinowi status wraz z rekomendacjami.***
