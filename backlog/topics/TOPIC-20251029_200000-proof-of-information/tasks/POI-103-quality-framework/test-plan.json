{
  "topic": "TOPIC-20251029_200000-proof-of-information",
  "task": "POI-103-quality-framework",
  "owner": "Kai",
  "summary": "Acceptance and monitoring plan for Proof of Information pipeline (device ledger, validator, blockchain).",
  "scenarios": [
    {
      "id": "POI-QA-001",
      "title": "Device FAR/FRR calibration",
      "metrics": {
        "FAR_max": 0.05,
        "FRR_max": 0.1,
        "entropy_min": 0.75
      },
      "procedure": [
        "Replay captured sensor sessions with ground-truth labels.",
        "Verify Light Ledger rejects low-entropy samples (<0.75).",
        "Zbuduj natywną bibliotekę (`./gradlew :core:lightledger:cargoBuildLightLedgerArm64 :core:lightledger:cargoBuildLightLedgerX86 :app:assembleDebug -PenableCargoNdk=true`), następnie `./gradlew installDebug` i po uruchomieniu `adb shell am start -n com.thething.cos/.MainActivity` sprawdź `adb logcat -d | Select-String \"LightLedgerRuntimeSmoke\"` aby potwierdzić komunikat o 32-bajtowym digescie.",
        "Validate FAR/FRR thresholds on aggregated batches.",
        "Zweryfikuj podpis i hash-chain z fizycznego urządzenia (Xiaomi 13T Pro) według instrukcji w ledger-signature-handshake.md."
      ],
      "evidence": [
        {
          "type": "logcat",
          "path": "adb logcat (Pixel 5 emulator)",
          "details": "10-30 22:07:51.303 I LightLedgerRuntimeSmoke: Native ledger ready; produced 32-byte digest."
        },
        {
          "type": "benchmark",
          "details": "LightLedgerBenchmarkRunner (Pixel 5 emulator): 1k native 211 ms vs fallback 234 ms; 5k native 625 vs 949 ms; 10k native 878 vs 1012 ms.",
          "path": "adb logcat"
        },
        {
          "type": "benchmark",
          "details": "LightLedgerBenchmarkRunner (Xiaomi 13T Pro, API 35): 1k native 9.79 ms vs fallback 7.83 ms; 5k native 31.52 ms vs 36.17 ms; 10k native 36.89 ms vs 59.18 ms.",
          "path": "adb logcat"
        },
        {
          "type": "logcat",
          "path": "backlog/topics/TOPIC-20251029_200000-proof-of-information/tasks/POI-101-light-ledger-prototype/evidence/light-ledger-runtime-smoke-2025-10-31.log",
          "details": "Xiaomi 13T Pro runtime smoke: Merkle root, hash, signature, signer public key (LightLedgerRuntimeSmoke)."
        },
        {
          "type": "hash_chain_snapshot",
          "path": "backlog/topics/TOPIC-20251029_200000-proof-of-information/tasks/POI-101-light-ledger-prototype/evidence/hash-chain-snapshot-2025-10-31.txt",
          "details": "Hash-chain entry z urządzenia (timestamp|hash|signature|publicKey)."
        }
      ]
    },
    {
      "id": "POI-QA-002",
      "title": "Attestation & secure aggregation path",
      "metrics": {
        "attestation_success_rate": 0.99,
        "dropout_tolerance": 0.2
      },
      "procedure": [
        "Simulate devices with/without StrongBox, ensure Play Integrity verdict required.",
        "Trigger secure aggregation dropout by removing 10-20% clients and ensure batch still accepted."
      ],
      "evidence": []
    },
    {
      "id": "POI-QA-003",
      "title": "Validator to Solana devnet pipeline",
      "metrics": {
        "batch_interval_minutes": 15,
        "confirmation_time_seconds": 30
      },
      "procedure": [
        "Send signed batch to validator, capture gRPC response.",
        "Verify Solana transaction contains expected root and signature.",
        "Measure confirmation latency and log any retries/outages."
      ],
      "evidence": []
    },
    {
      "id": "POI-QA-004",
      "title": "Resilience scenarios",
      "metrics": {
        "outage_queue_retention_minutes": 60
      },
      "procedure": [
        "Simulate Solana outage; ensure validator queues batches and replays once available.",
        "Force DP budget exceedance and validate alert emission."
      ],
      "evidence": []
    }
  ]
}